## 모두의 네트워크(데이터 링크 계층)

해당 포스팅은 `모두의 네트워크` 책을 정리한 내용으로 OSI 모델의 2계층인 데이터 링크 계층에 대해 다룬다.

`데이터 링크 계층(Data Link Layer)` 은 네트워크 기기 간에 데이터를 전송하고 물리 주소를 결정하며 네트워크 장비 간에 신호를 주고받는 규칙을 정한다.

<br>

### 스위치(Switch)
---

`스위치` 란 랜을 구성할 때 사용하는 단말기 간 스위치 기능이 있는 통신망 중계 장치이다.

- 데이터 링크 계층에서 동작하고 스위칭 허브 또는 레이어2 스위치라고도 불린다.
- 스위치 안에는 MAC 주소 테이블이 존재한다.

<br>

#### MAC 주소 테이블(MAC address table)

`MAC 주소 테이블` 은 브리지 테이블(bridge table)이라고도 불리며 스위치의 포트 번호와 해당 포트에 연결되어 있는 컴퓨터의 MAC 주소가 저장된 데이터베이스이다.

- 스위치에 연결된 컴퓨터가 프레임(데이터)을 전송하면 MAC 주소 테이블을 확인하고 해당 포트로 전송한다.
- 만약 테이블에 저장되지 않는 주소라면, MAC 주소와 포트 번호를 데이터베이스에 정보를 저장한다. 이를 MAC 주소 학습 기능이라고 한다.

<br>

#### 플러딩(flooding)과 MAC 주소 필터링

`플러딩` 이란 MAC 주소 테이블에 등록되어 있지 않은 MAC 주소가 들어오면 송신 포트를 제외한 모든 포트에 데이터를 전송하는 것을 의미한다.
`MAC 주소 필터링` 이란 주소를 저장한 이후 해당 포트에만 프레임을 전송하기 위해, MAC 주소를 기준으로 목적지를 선택하는 것이다.


<br>

### 전이중 통신과 반이중 통신
---

`전이중 통신` 은 데이터의 송수신을 동시에 통신하는 방식이며, 데이터를 동시에 전송해도 충돌이 발생하지 않는다. 스위치가 전이중 통신 방식을 사용한다.
`반이중 통신` 은 회선 하나로 송신과 수신을 번갈아가면서 통신하는 방식이며, 데이터를 동시에 통신하면 충돌이 발생한다. 허브가 반이중 통신 방식을 사용한다.

<br>

#### 충돌 도메인

`충돌 도메인` 이란 반이중 통신에서 동시에 데이터 전송 시 충돌이 발생할 때, 그 영향이 미치는 범위를 의미한다.

- 충돌 도메인이 넓을 수록 네트워크가 지연된다.
- 허브는 연결된 모든 컴퓨터가 충돌 도메인이 된다.
- 스위치는 컴퓨터와 연결된 포트만 충돌 도메인이 된다.


<br>

### ARP(Address Resolutino Protocol)
---

`ARP` 란 목적지 컴퓨터의 IP 주소를 이용하여 MAC 주소를 찾기 위한 프로토콜로 네트워크 계층 주소와 데이터 링크 계층 주소 사이의 변환을 담당하며 IP 주소를 물리 주소인 MAC 주소로 변환한다.

- ARP 캐시: 가장 최근에 변환한 IP와 하드웨어 주소(MAC 주소)를 매핑하려 보관하고 있는 램의 한 영역이다.
- ARP 요청: IP 주소를 대치할 수 있는 물리 주인 MAC 주소를 찾아내기 위해 보내는 브로드캐스트 패킷 요청이다.
- ARP 응답: ARP 요청에 대한 응답으로 요청한 IP 주소에 대한 물리 주소인 MAC 주소가 실려 있는 유니캐스트 패킷 응답이다.
- ARP 테이블 : MAC 주소와 IP 주소의 매핑 정보를 메모리에 보관해 둔 것을 의미한다.